!function(t){t.fn.flashingLights=function(n){myOptions=t.extend({rows:10,columns:10,rounded:"100%",lampHeight:"5px",lampWidth:"10px",onRatio:.1,offRatio:.7,refreshRate:75,onColour:"white",offColour:"black",blurRadious:15},n),console.log(myOptions.rows);for(var o='<div id="lampMap">',s=0;s<myOptions.rows;s++){o+='<div class="row" id="tr'+s+'">';for(var a=0;a<myOptions.columns;a++)o+='<div id="lamp" class="td'+a+' off"">&nbsp;</div>';o+="</div>"}o+="</div>",jQuery(this).append(o),setInterval(function(){for(var n=0;n<myOptions.rows;n++)for(var o=0;o<myOptions.columns*myOptions.onRatio;o++){var s=Math.floor(Math.random()*myOptions.columns);t("#tr"+n+" .td"+s).removeClass("off"),t("#tr"+n+" .td"+s).addClass("on")}},myOptions.refreshRate),setInterval(function(){for(var n=0;n<myOptions.rows;n++)for(var o=0;o<myOptions.columns*myOptions.offRatio;o++){var s=Math.floor(Math.random()*myOptions.columns);t("#tr"+n+" .td"+s).removeClass("on"),t("#tr"+n+" .td"+s).addClass("off")}},myOptions.refreshRate),this.prepend("\n\t\t\t<style>\t\n\t\t#lampMap {\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tdisplay:flex;\n\t\t\tdisplay: -webkit-flex;\n\t\t\talign-content: space-evenly;\n\t\t\tflex-wrap: wrap;\n\t\t}\n\n\t\t#lampMap div {\n\t\t\tbackground-color: transparent; \n\t\t\t-webkit-transition: all .25s ease-in-out; \n\t\t\t-moz-transition: all .25s ease-in-out; \n\t\t\t-o-transition: all .25s ease-in-out; \n\t\t\t-webkit-transition: all .25s ease-in-out; \n\t\t\ttransition: all .25s ease-in-out;\n\t\t}\n\n\n\t\t#lampMap *{\n\t\t\tmargin:0px;\n\t\t\tpadding:0px;\n\t\t}\n\t\t#lampMap .row{\n\t\t\twidth:100%;\n\t\t\tdisplay:flex;\n\t\t\tdisplay: -webkit-flex;\n\t\t\tjustify-content: space-evenly;\n\t\t}\n\t\t#lampMap #lamp{\n\t\t\tborder-radius: "+myOptions.rounding+";\n\t\t\twidth:"+myOptions.lampWidth+";\n\t\t\theight:"+myOptions.lampHeight+";\n\t\t}\n\t\t#lamps{\n\t\t\tdisplay:flex;\n\t\t\tdisplay: -webkit-flex;\n\t\t\tjustify-content: center;\n\t\t}\n\n\t\t#lampMap .on {\n\t\t\tbackground-color:"+myOptions.onColour+";\n\t\t\t-webkit-box-shadow: 0px 0px "+myOptions.blurRadious+"px "+myOptions.blurRadious+"px "+myOptions.onColour+";\n\t\t\t-moz-box-shadow: 0px 0px "+myOptions.blurRadious+"px "+myOptions.blurRadious+"px "+myOptions.onColour+";\n\t\t\tbox-shadow: 0px 0px "+myOptions.blurRadious+"px "+myOptions.blurRadious+"px "+myOptions.onColour+";\n\t\t}\n\t\t#lampMap .off {\n\t\t\tbackground-color:"+myOptions.offColour+";\n\t\t}\n\t\t</style>")}}(jQuery);